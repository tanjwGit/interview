## 路由原理

- Hash模式
  - 当 # 后面的路径发生变化时，浏览器并不会重新发起请求，而是会触发 onhashchange 事件
  - `window.addEventListener("hashchange", fncEvent, false)`

- History 模式
  - history API 是 H5 提供的新特性，允许开发者直接更改前端路由
    - 即更新浏览器 URL 地址而不重新发起请求
  - pushState(data, title, [url]);
    - 在历史记录堆栈中添加一条记录
    - data 会作为参数传给 onpopstate事件
    - title 页面标题
    - url 可选，页面地址，缺少时表示为当前页地址
  - replaceState(data, title, [url]);
    - 更改当前的历史记录
    - 参数同 pushState
  - history.state
    - 存储了以上方法中的data数据
  - window.onpopstate
    - 调用 history.pushState() 或者 history.replaceState() 不会触发 popstate 事件
    - popstate 事件只会在浏览器某些行为下触发，比如点击后退按钮（或者在 JavaScript 中调用 history.back() 方法）
    - 即: 在同一文档的两个历史记录条目之间导航会触发该事件。
  - pushState() 和 replaceState()提供了对历史记录进行修改的功能, 当它们执行修改时，虽然改变了当前的 URL，但浏览器不会立即向后端发送请求, 但是用户可能会手动刷新


  | 指令 | 作用 |  
  | --- | --- |
  | hisstory.back() | 回退 |
  | hisstory.forward() | 前进 |
  | hisstory.go() | 跳转到指定的一个点，例：go(-1) 回退一个页面 |
  | hisstory.back() | 回退 |
  | hisstory.back() | 回退 |
  